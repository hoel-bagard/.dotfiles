{
  "$schema": "https://opencode.ai/config.json",
  "model": "github-copilot/claude-opus-4.5",
  "permission": {
    "edit": "allow",
    "bash": {
      // Only allow read-only commands
      "pwd": "allow",
      "ls*": "allow",
      "cat *": "allow",
      "head *": "allow",
      "tail *": "allow",
      "wc *": "allow",
      "which *": "allow",
      "echo *": "allow",
      // Git read-only commands
      "git status*": "allow",
      "git diff*": "allow",
      "git log*": "allow",
      "git show*": "allow",
      "git branch*": "allow",
      "git remote*": "allow",
      // Ask for everything else
      "*": "ask",
    },
    "webfetch": "ask",
  },

  // Agents are defined in ~/.config/opencode/agent/*.md
  "agent": {
    "build": {
      "disable": true,
    },
  },

  "command": {
    "review": {
      "description": "Review changes in current branch against main",
      "template": "Review the following changes for code quality, best practices, and potential issues:\n\n!`git diff main...HEAD`\n\nProvide constructive feedback organized by file.",
      "agent": "code-reviewer",
    },
    "commit": {
      "description": "Create a commit with a descriptive message",
      "template": "Review the staged changes and create a commit:\n\n!`git status`\n!`git diff --cached`\n\nWrite a clear, conventional commit message that:\n- Starts with a type (feat, fix, refactor, docs, test, chore)\n- Has a concise subject line (50 chars max)\n- Optionally includes a body explaining WHY the change was made\n\nThen create the commit.",
      "agent": "build-no-ask",
    },
  },

  "formatter": {
    "ruff-format": {
      "extensions": [".py"],
      "command": ["ruff", "format", "$FILE"],
    },
    "ruff-fix": {
      "extensions": [".py"],
      "command": ["ruff", "check", "--fix", "$FILE"],
    },
    "rustfmt": {
      "extensions": [".rs"],
      "command": ["rustfmt", "$FILE"],
    },
  },

  "keybinds": {
    "leader": "ctrl+space",
    "app_exit": "ctrl+q",
    "session_interrupt": "esc",
    "messages_first": "ctrl+g",
    "messages_last": "ctrl+shift+g",
    "model_list": "<leader>m",
    "agent_list": "<leader>a",
    "agent_cycle": "tab",
    "input_clear": "ctrl+c",
    "input_paste": "ctrl+v",
    "input_submit": "enter",
    "input_newline": "shift+enter,ctrl+j",
  },

  "theme": "catppuccin",
  // If true, OpenCode will automatically download any new updates when it starts up.
  "autoupdate": false,
}
